(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){},22:function(e,t,n){e.exports=n(38)},27:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),o=n.n(c),i=(n(27),n(8)),s=n(20),l=n(1),u=n(21),h=n(4);var E=function(e){return Object.keys(e).reduce(function(e,t){return e[t]=t,e},{})}({CHANGE_SEARCH_FIELD:null,REQUEST_NEWS_PENDING:null,REQUEST_NEWS_SUCCESS:null,REQUEST_NEWS_FAILED:null,SORT_NEWS:null}),p=E,d={searchField:""},m={isPending:!1,news:[],error:""},b=Object(l.c)({searchNews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.CHANGE_SEARCH_FIELD:return Object(h.a)({},e,{searchField:t.payload});default:return e}},requestNews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.REQUEST_NEWS_PENDING:return Object(h.a)({},e,{isPending:!0});case p.REQUEST_NEWS_SUCCESS:return Object(h.a)({},e,{news:t.payload,isPending:!1});case p.REQUEST_NEWS_FAILED:return Object(h.a)({},e,{error:t.payload,isPending:!1});default:return e}}}),f=n(5),w=n(6),g=n(9),S=n(7),N=n(10),y=(n(33),n(35),function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props.searchChange;return r.a.createElement("div",{className:"searchBox"},r.a.createElement("input",{className:"ba b--green bg-lightest-blue input",type:"search",placeholder:"search news",onChange:e}))}}]),t}(r.a.PureComponent)),v=n(14);n(17);var C=function(e){var t=e.title,n=e.content,a=e.url,c=e.urlToImage,o=e.time;return r.a.createElement("div",{className:"tc bg-light-green dib br3 pa3 ma2 grow bw2 shadow-s news-wrapper"},r.a.createElement("button",{className:"bg-light-green news-button",type:"button",onClick:function(){return function(e){window.location.href=e}(a)}},r.a.createElement("img",{className:"image",alt:t,src:c}),r.a.createElement("div",null,r.a.createElement("h2",null,t),r.a.createElement("p",null,n),r.a.createElement("p",null,function(e){var t=e.split("T"),n=Object(v.a)(t,2),a=n[0],r=n[1],c=a.split("-"),o=Object(v.a)(c,3),i=o[0],s=o[1],l=o[2];return"".concat(i,"\u5e74").concat(s,"\u6708").concat(l,"\u865f").concat(r.substr(0,r.length-1))}(o)))))},_=function(e){var t=e.articles.map(function(e){return r.a.createElement(C,{key:e.title,title:e.title,content:e.content,url:e.url,urlToImage:e.urlToImage,time:e.publishedAt})});return r.a.createElement("div",{className:"newsList-wrapper"},t)},j=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={sortBy:""},n.handleSortByAlpha=function(){n.setState({sortBy:"alpha"})},n.handleSortByTime=function(){n.setState({sortBy:"time"})},n.newsSort=function(e){if(e)switch(n.state.sortBy){case"alpha":return e.sort(function(e,t){var n=e.title.toUpperCase(),a=t.title.toUpperCase();return n<a?-1:n>a?1:0});case"time":return e.sort(function(e,t){return t.publishedAt-e.publishedAt});default:return e}return null},n}return Object(N.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.props.onRequestNews()}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.searchField,c=n.onSearchChange,o=n.isPending,i=n.news.articles;return i&&(e=i.filter(function(e){return e.title.toLowerCase().includes(a.toLowerCase())}),e=this.newsSort(e)),o?r.a.createElement("h1",null,"loading"):r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:""},"Waterfall Practice"),r.a.createElement(y,{searchChange:c}),r.a.createElement("button",{className:"sort-button",type:"button",onClick:function(){return t.handleSortByAlpha()}},"sort by alphabetical order"),r.a.createElement("button",{className:"sort-button",type:"button",onClick:function(){return t.handleSortByTime()}},"sort by time order")),r.a.createElement("div",{className:"news-container"},i?r.a.createElement(_,{articles:e}):null))}}]),t}(a.Component),O=Object(i.b)(function(e){return{searchField:e.searchNews.searchField,news:e.requestNews.news,isPending:e.requestNews.isPending,error:e.requestNews.error}},function(e){return{onSearchChange:function(t){return e((n=t.target.value,{type:E.CHANGE_SEARCH_FIELD,payload:n}));var n},onRequestNews:function(){return e(function(e){e({type:E.REQUEST_NEWS_PENDING}),fetch("https://newsapi.org/v2/top-headlines?country=".concat("us","&apiKey=").concat("3c175cefc17b4f5cae396104e95ccac8")).then(function(e){return e.json()}).then(function(t){return e({type:E.REQUEST_NEWS_SUCCESS,payload:t})}).catch(function(t){return e({type:E.REQUEST_NEWS_FAILED,payload:t})})})}}})(j);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=Object(s.createLogger)(),T=b,R=Object(l.d)(T,Object(l.a)(u.a,A));o.a.render(r.a.createElement(i.a,{store:R},r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.b27e651f.chunk.js.map